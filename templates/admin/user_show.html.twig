{% extends 'admin/base.html.twig' %}

{% block title %}Utilisateur {{ user.firstname }} {{ user.lastname }} - Brod'Art{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ asset('css/admin/user-show.css') }}">
{% endblock %}

{% block admin_content %}
{% for label, messages in app.flashes %}
{% for message in messages %}
<div class="alert alert-{{ label }}">
  {{ message }}
</div>
{% endfor %}
{% endfor %}

<form action="{{ path('admin_user_update', {id: user.id}) }}" method="POST" class="user-form">

  <div class="user-card">
    <h2>Informations utilisateur</h2>

    <div class="info-row">
      <label for="firstname">Prénom</label>
      <input type="text" name="firstname" id="firstname" value="{{ user.firstname }}">
    </div>

    <div class="info-row">
      <label for="lastname">Nom</label>
      <input type="text" name="lastname" id="lastname" value="{{ user.lastname }}">
    </div>

    <div class="info-row">
      <label for="email">Email</label>
      <input type="email" name="email" id="email" value="{{ user.email }}">
    </div>

    <div class="info-row">
      <span>ID</span>
      <strong>#{{ user.id }}</strong>
    </div>
  </div>

  <div class="user-toggles">
    <h2>Rôles et Statuts</h2>

    <label class="toggle">
      <input type="checkbox" name="is_admin" {% if 'ROLE_ADMIN' in user.roles %}checked{% endif %}>
      <span class="slider"></span>
      <span class="toggle-label">Administrateur</span>
    </label>

    <label class="toggle">
      <input type="checkbox" name="desactived" {% if user.desactived %}checked{% endif %}>
      <span class="slider"></span>
      <span class="toggle-label">Compte désactivé</span>
    </label>

    <label class="toggle">
      <input type="checkbox" name="blacklist" {% if user.blacklist %}checked{% endif %}>
      <span class="slider"></span>
      <span class="toggle-label">Blacklisté</span>
    </label>
  </div>

  <div class="form-actions">
    <button type="submit" class="btn btn-primary">
      <span class="text">Enregistrer les modifications</span>
    </button>
  </div>

</form>
{% endblock %}